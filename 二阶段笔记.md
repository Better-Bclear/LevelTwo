# 						Mysql

### 一.mysql引言

```java
概念: 是一款数据库产品。数据库用来对数据进行存储和管理(增删改查)。
数据库简称DB(DataBase)
常见的DB: mysql oracle sqlServer db2 ...
    
数据存储到内存中:
	缺点: 1.断电数据会消失  2.内存空间小，无法存储大量数据

数据通过io流存储到硬盘中的某个文件:
	缺点: 1.文件过大，读取效率低   2.不支持并发访问  3.安全性差   4.没有错误检查的能力
        
数据库存储数据(存储在硬盘上):
	1. 支持并发
    2. 有错误检查能力
    3. 支持大量数据，效率高
    4. 数据安全，支持数据备份，支持数据恢复
        
数据库的分类:
	非关系型数据库: redis MogoDB
    关系型数据库: mysql oracle db2   特点: 通过表的形式存储数据
```

### 二.mysql的卸载【重点】

```java
1.在控制面板中找到卸载程序，找打对应的软件进行卸载
2.找到 C:\ProgramData目录中的mysql文件夹删除
```

### 三.mysql的安装【重点】

```java
注意事项:
	1.不允许安装路径有中文
    2.计算机的名字不能是中文
```



![](C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\安装步骤.png)

### 四.数据库相关的概念【重点】

```java
表(table): 存储数据
行(row):	  代表一条完整数据。对应一个java对象。
列(column): 代表数据中的一项内容。对应java中的一个属性。又称key(键)或字段(field)
    主键列PK（Primary key）: 唯一表示表中的一行数据。特点:唯一，非空。
    外键列FK（Foregin key）: 表示当前表 和 其他表存在的关系。
```

### 五.Mysql工作原理【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220810115350409-16601036394162.png" alt="image-20220810115350409" style="zoom:50%;" />

### 六.mysql数据如何管理【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220810115641771.png" alt="image-20220810115641771" style="zoom:50%;" />

### 七.导入测试数据

```java
1. 创建库 库名:任意  字符集:utf-8
2. 导入测试数据 将employees.sql文件导入库下
```

### 八.基本查询【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220810143819681.png" alt="image-20220810143819681" style="zoom:65%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220810152739678.png" alt="image-20220810152739678" style="zoom:65%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220810164327041.png" alt="image-20220810164327041" style="zoom:65%;" />

### 九.函数【重点】

#### 1.单行函数

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220810172458926.png" alt="image-20220810172458926" style="zoom:65%;" />

#### 2.组函数

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220811102834403.png" alt="image-20220811102834403" style="zoom:65%;" />

 ```java
 作业: 1~13
      预习: 一阶段没问题的预习
      复习: 一阶段有问题继续复习
 ```

### 十.group by分组【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220811112819264.png" alt="image-20220811112819264" style="zoom:65%;" />

### 十一.having【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220811144227518.png" alt="image-20220811144227518" style="zoom:65%;" />

### 十二.查询小结【重点】

```java
语法: select ... from ... where ... group by ... having ... order by ...
执行顺序:
	from: 确定原始表是谁
    where: 基于原始表进行条件过滤，符合条件留下来
    group by: 对符合where条件的数据进行分组
    select: 进行查询以及起别名等操作
    having: 对分组后的数据进行过滤，符合条件留下来
    order by: 对查询后的数据做最后的排序
```

### 十三.limit分页【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220811154238647.png" alt="image-20220811154238647" style="zoom:65%;" />

### 十四.子查询【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220811165121245.png" alt="image-20220811165121245" style="zoom:65%;" />

```java
作业:  chap1: 14   15    16
      chap2: 除了表连接都完成
```

### 十五.表连接【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812110951429.png" alt="image-20220812110951429" style="zoom:65%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812103716978.png" alt="image-20220812103716978" style="zoom:67%;" />

![image-20220812112629872](C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812112629872.png)

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812145838031.png" alt="image-20220812145838031" style="zoom:65%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812153930644.png" alt="image-20220812153930644" style="zoom:67%;" />

### 十六.SQL语句分类

```java
SQL: 结构化的查询语言
    DQL(Data Query Language): 数据查询语言 select 【重点】
    DML(Data Mannipulation Language): 数据的操纵语言 insert/delete/update 【重点】
    DDL(Data Defintion Language): 数据定义语言 create/alter/drop
    TCL(Transaction Controller Language): 事务控制语言  commit/rollback【理解】
    DCL(Data Controller Language):数据控制语言(DBA数据库管理员)
```

### 十七.DDL建表语句

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812155044265.png" alt="image-20220812155044265" style="zoom:67%;" />

#### 1.数据类型

```java
数字类型:
	int类型:代表整数，占用4字节空间，最大值可以存储2147483647
    double类型:代表小数，占用8字节，使用方式double(5,2),第一个参数代表这个小数最多是5位,第二个参数代表
              小数部分占2位。
字符串类型:
	char(n):    固定长度字符串类型,n最大值是2000，代表分配的字节数
    varchar(n): 可变长度字符串类型，n最大值是4000，代表分配的字节数
        "abc"  char(5)   varchar(5)
        		'abc  '    'abc'
        		占空间		 省空间
         		效率高		 效率低
   		如果当前列数据存储的都是统一长度。比如手机号码: char(11)	比如身份证号码: char(18)

日期类型:
	datetime:代表时间，存储格式 年-月-日 时:分:秒
```

#### 2.默认值

```java
作用: 标识该字段在不填写任何内容时，系统分配一个默认值。
语法: default 值	(默认值的类型必须和字段的数据类型保持一致)
```

#### 3.约束【理论重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812170047698.png" alt="image-20220812170047698" style="zoom:67%;" />

#### 4.建表

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812171917529.png" alt="image-20220812171917529" style="zoom:67%;" />

#### 5.通过工具建表【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220812173418214.png" alt="image-20220812173418214" style="zoom:67%;" />

```java
作业:
 表连接
	1.查询员工的工号、姓、部门名称、所在位置，只显示city为’Southlake’的相关信息
 chap3: 所有 
```

### 十八.DML数据的增删改【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815100912963.png" alt="image-20220815100912963" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815105400798.png" alt="image-20220815105400798" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815110236968.png" alt="image-20220815110236968" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815111127861.png" alt="image-20220815111127861" style="zoom:67%;" />

### 十九.事务【理解重点】

```java
业务概念: 一个业务由多条sql组成。比如转账:2条sql。
事务概念: 为了保证业务的完整性。要么这个业务中的所有sql一起成功(commit)，要么一起失败(rollback)。
    通过事务保证转账业务的完成性:
		try{
            设置事务手动提交
            xh - 500
            xhxf + 500
            commit
        }catch(){
            rollback
        }
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815143413244.png" alt="image-20220815143413244" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815152254254.png" alt="image-20220815152254254" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815152838679.png" alt="image-20220815152838679" style="zoom:67%;" />

# 					JDBC

### 一.引言

```java
JDBC(java DataBase Connector): java操作数据库技术
常见的java连接数据库技术以下两种:
	1.JDBC直接连接数据库--称为直连  本门课程学习
    2.JDBC通过连接池连接数据库 -- 称为连接池   后续课程学习
```

### 二.JDBC包含的内容

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815160640991.png" alt="image-20220815160640991" style="zoom:67%;" />

### 三.环境准备【重点】

```java
JDBC使用的1个准备操作:导入jar包
    使用idea创建模块导入jar包（模块下创建lib文件夹->将jar包复制进来->右击add as library）
```

### 四.JDBC的6个步骤【重点】

```java
//        1.注册驱动类
        Class.forName("com.mysql.jdbc.Driver");
//        2.创建连接
//        url(由 协议:ip:端口/库 )
        String url = "jdbc:mysql://localhost:3306/test?characterEncoding=UTF-8";
        Connection conn = DriverManager.getConnection(url, "root", "root");
//        System.out.println(conn);

//        3.创建Statement(用来执行sql)
        Statement stm = conn.createStatement();
        String sql = "insert into student2 values(2,'ls')";
//        4.执行sql
        stm.execute(sql);
//        5.处理查询结果 -- 针对查询操作
//        6.释放资源 - 先创建的后关闭
        if(stm != null) stm.close();
        if(conn != null) conn.close();
```

### 五.JDBC常见的错误

```java
java.lang.ClassNotFoundException:  com.mysql.jdbc.driver 
    说明: 驱动包名+类名写错了
java.lang.ClassNotFoundException: com.mysql.jdbc.Driver
    说明: 需要右击jar包选择add as library
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown database 'aa'
    说明: 这个库不存在
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
    说明: 密码错误
com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure
    说明: 端口错误
com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: 
    sql语句错误
```

### 六.查询操作【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220815174645551.png" alt="image-20220815174645551" style="zoom:67%;" />

```java
作业: 将book.sql 引入数据库
1.通过jdbc完成一条完整数据的插入(不插入id因为已经是自增长)
2.通过jdbc完成一条数据的删除(根据id)
3.通过jdbc完成修改(name中如果有"小" )将作者设置成"小小"  %小%
4.完成jdbc查询 展示每条数据
```

### 七.使用Statement【了解】

```java
缺点:
	1.拼接sql容易出错
    2.存在安全隐患（SQL注入问题）
```

### 八.使用PreparedStatement【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220816105034113.png" alt="image-20220816105034113" style="zoom:67%;" />

```java
PreparedStatement  和 Statement 区别【面试题】
    PreparedStatement    Statement
    安全性高(防止sql注入)	 存在sql注入问题
    效率高					效率低
```

### 九.处理日期字段【重点】

```java
JDK中有两个日期类型:
	java.sql.Date: 数据库中添加需要的类型。
    java.util.Date: 除了往数据库中添加都用该类型
java.util.Date 是 java.sql.Date的父类
        
如何将String类型的时间转java.sql.Date类型?
    String time = "2022-08-16"; //用户录入的时间
    // String类型的时间 --> java.util.Date -- > java.sql.Date
    SimpleDateFormat sdf = new SimpleDateFormat("yyyy-MM-dd");
    Date date = sdf.parse(time);
    java.sql.Date sqlDate = new java.sql.Date(date.getTime());
```

### 十.插入一条数据带有日期类型【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220816113915810.png" alt="image-20220816113915810" style="zoom:67%;" />

### 十一.带有日期的查询【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220816142137901.png" alt="image-20220816142137901" style="zoom:67%;" />

### 十二.现有代码存在的问题

```java
1.JDBC的6个步骤存在冗余
2.代码无法复用
3.代码维护性低,所有的内容都硬编码在程序中
```

### 十三.解决代码冗余问题

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220816154035922.png" alt="image-20220816154035922" style="zoom:67%;" />

### 十四.提高代码维护性【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220816164953682.png" alt="image-20220816164953682" style="zoom:67%;" />

```java
作业:  1.完成JDBCUtil的封装
      2.完成一张表（带有日期字段）的增删改查
         查(        ) 。 额外: 完成一个模糊查
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220817105106161.png" alt="image-20220817105106161" style="zoom:67%;" />

### 十五.ORM对象关系映射【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220817105538297.png" alt="image-20220817105538297" style="zoom:67%;" />

### 十六.实体类 entity【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220817110916850.png" alt="image-20220817110916850" style="zoom:67%;" />

### 十七.功能整合Dao【重点】

```java
整合原则:
	对同一张表相关的操作(crud)整合到一个类中。
类的命名: 表名+Dao  如: StudentDao  PeronDao  AccountDao...
包的命名: cn.baizhi.dao
类中的方法: 所有的方法只能是针对数据库的增删改查，其他代码一概不允许出现
		删除:public void deleteById(int id)
        添加:public void insertStudent(Student s)
        修改:public void updateById(Student s)
        查询:
			根据id查一个: public Student queyById(int id)
            查所有:      public List<Student> queryAll()
            根据名字模糊查: public List<Student> queryLikeByName(String name)
```

```java
cn.baizhi.util   工具类
cn.baizhi.conf   配置文件
cn.baizhi.entity 实体类
cn.baizhi.dao    dao类
cn.baizhi.test	 测试类
    
作业:  BookDao 定义7个方法。参考chap2作业
```

### 十八.业务类【重点】

```java
业务: 一个业务由多个dao中的多个方法组成。
类名: xxxSerivce   如: BankService     StudentService
包名: cn.baizhi.service
注意: 在业务层必须控制事物，需要保证业务中的一组sql要么一起执行，要么都不执行。
```

#### 1.业务代码加入事物控制

```java
业务相关的方法: 事务需要通过连接对象控制。
   			 conn.setAutoCommit(false); 设置事务手动提交
             conn.commit();  提交
             conn.rollback();  回滚
 public void 转账(){
    Connection conn = null;
  	try{
        conn = JDBCUtil.getConn();
        conn.setAutoCommit(false);
        调用dao  小明 - 1
        调用dao  小李 + 1
        conn.commit();//提交
    }catch(Exception e){
        conn.rollback();
    }finally{
        JDBCUtil.close(null,null,conn);
    }
}
问题: 事务没有控制住。
原因: 一个业务方法中出现了多个连接对象。
解决思想: 我们要保证一个业务中只有一个连接对象，事务才能控制住。
```

#### 2.事务控制1.0版本【了解】

```java
为了保证业务方法和Dao方法使用的是同一个连接，在业务方法开始创建连接，作为参数传递给Dao方法，并且Dao不能关连接，业务结束后关闭连接。
    
 这种方式产生的问题:
	Dao中的每个方法都需要接收连接对象，编码重复性太多。
```

#### 3.事务控制2.0-最终版【重点】

```java
思想: 不同线程使用不同连接对象。
      同一个线程使用同一个连接对象。
ThreadLoad api的使用:
		ThreadLoad tl = new ThreadLoad();
		tl.set(Object); //存值
        tl.get(); //取值
        tl.remove(); //删除
注意: 1.dao层，不关连接
      2.service层关连接
      3.连接关闭需要删除ThreadLocal存储的数据
```

#### 4.最终工具类的代码

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220818165001428.png" alt="image-20220818165001428" style="zoom:40%;" />

#### 5.业务层的模板

```java
try{
    //1.获取连接
    //2.设置连接手动提交
    //3.调用dao的多个方法
    //4.成功提交 commit
}catch(Exception e){
    e.printStackTrace();
    //5.失败回滚 rollback
    throw new RuntimeException("xxx业务失败");
}finally{
    //1.释放资源  关闭连接对象
}

作业:
	基于昨天作业创建一个业务类。 业务方法: 查1个业务方法  查所有业务方法  添加图书  修改图书  删除图书
```

### 十九.分层【重点】

```java
JDBC的三层:
	1.Dao数据访问层: 对DB(database)的增删改查(crud)
    2.Service业务层: 专注于业务实现，必须控制事务
    3.View视图层: 专注于数据的输入输出
好处: 各司其职。
调用关系: 视图层调用业务层。 业务层调用Dao层。注意: 不能跨层调用。
```

### 二十.分包【重点】

```java
cn.baizhi.conf	配置文件 db.properties
cn.baizhi.util	工具类
cn.baizhi.dao	先接口后实现类
cn.baizhi.service	先接口后实现类
cn.baizhi.view		视图
cn.baizhi.entity	实体类
cn.baizhi.test		测试
```

# 						HTML

### 一.引言

```java
HTML(Hypertext markup language):超文本标记语言。属于静态网页。属于解释型语言。浏览器进行html的解析。
    
    静态网页:html
    	网页中内容永远不变
    动态网页:jsp
        网页中内容会改变
        
源文件后缀: xxx.html   xxx.htm
```

### 二.基本语法【重点】

#### 1.标签

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220819105908989.png" alt="image-20220819105908989" style="zoom:67%;" />

#### 2.属性

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220819111143540.png" alt="image-20220819111143540" style="zoom:67%;" />

### 三.源文件结构

```java
HTML源文件由3部分组成:
<html>  根标签
    <head>...</head>  头部分
    <body>...</body>  主体部分
</html>
    
注意: 1.html语法要求不严格
     2.标签不区分大小写
```

### 四.head部分

```java
head标签为头标签: 定义的内容网页中不可见，用于设置标题等附加信息。
	1.title标签: 整个网页的标题(显示在浏览器标题栏)
    2.meta标签: 定义网页的附加信息，比如网页的自动刷新。
        <meta http-equiv="refresh" content="3;url=http://www.baidu.com"/>
        作用: 3秒后自动跳转到百度
```

### 五.body部分

```java
<body bgcolor="背景颜色" text="前景颜色">
    颜色的取值两种方式:
			英文单词: white green  blue   black  red 
            RGB模式: #ff0000表示红
```

#### 1.文本相关

```java
标题:
	<h1>标题内容</h1>  最大标题
    <h2>标题内容</h2>
    ...
    <h6>标题内容</h6>  最小标题
        
段落:
	<p>文本内容</p>
        
特殊字符： 
    &nbsp;  空格
    &lt;    <
    &gt;    >
    &copy;  版权符号
        
换行: <br/>
    
水平线: <hr/>
    <hr color="水平线颜色" size="水平线粗细" width="水平线有多长" align="对其方式"/>
    width: 可以是百分比 50% 表示占据浏览器窗口一半
           可以是像素点 100px 表示占据浏览器宽100个像素
    align: left:左对齐  right:右对其  center:居中
        
字体标签:<font>字体内容</font>
        <font color="字体颜色" size="大小" face="宋体">哈哈<font>
        size: 取值1~7，7代表最大
```

#### 2.图片相关【重点】

```java
<img src="图片路径" height="xxpx" width="宽"/>
```

#### 3.超链接【重点】

```java
<a href="连接到的资源路径">文本图片</a>
    target属性表示打开的位置:
		_self默认值，当前窗口打开
        _blank新窗口打开
```

#### 4.表格相关【重点】

```java
<table border="1px">
    <tr>
    	<td>第一行的第一个单元格</td>  或者th:加粗居中
        <td>第一行的第二个单元格</td>
    </tr>
    <tr>
    	<td>第二行的第一个单元格</td>  或者th:加粗居中
        <td>第二行的第二个单元格</td>
    </tr>
</table>
tr: 表示一行
td: 表示一个单元格
通用属性:
	bgcolor:背景颜色
    align: 对其方式  left  right  center
td的合并:
	<td colspan=""></td> 跨列
    <td rowspan=""></td> 跨行
```

![img](C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\wps1.jpg)

#### 5.表单【重点】

```java
作用:
	1.提供人机交互界面
    2.将页面的数据发送给服务器
表单标签:
	<form action="提交的路径" method="get|post></form> 表单标签
    	action: 指定表单中所有的数据提交到哪个服务器。默认提交给当前网页。
   		method: 默认是get
表单元素:
	1.文本输入框: <input type="text" name="键" value="值"/>
        属性: readonly: 只读
             disabled: 不可用
    2.密码框: <input type="password" name="键">
    3.单选框: <input type="radio" name="" value="">
        注意: 同一组单选框，name属性的值必须一样
             默认选中使用checked属性
    4.复选框: <input type="checkbox" name="hobby" value="chang">唱
        注意: 同一组复选框，推荐name一样
    5.提交按钮: <input type="submit" value="注册">
        作用: 提交表单
    6.重置按钮: <input type="reset">
    7.普通按钮: <input type="button" value="点击">
        没有任何作用，可以使用JavaScript为按钮自定义功能
    8.下拉列表:<select name="xl">
                  <option value="xiaoxue">小学</option>
                  <option>初中</option>
                  <option>高中</option>
          	 </select>
    注意: 如果option被选中，有value属性提交的是该属性中的值，如果没有value属性提交的是option文本内容
    9.文本域: <textarea name="zwjs"></textarea>
注意: 表单元素提交时以键值对形式提交，name表示键，value表示值。
    
get和post提交方式的区别?【面试题】
    get方法: 表单数据以?的形式拼接在地址栏中
        特点: 不安全，不能传递大量数据
    post方式: 表单数据以 "数据包" 的形式封装到请求体重
        特点: 安全,可以传递大量数据

作业:导入person表。根据PersonService 和 PersonView 完成案例。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\wps2.jpg" alt="img" style="zoom:67%;" />

# 					CSS

### 一.css引言

```java
css(cascade style sheets): 层叠样式表
作用: 美化页面，给html更多的视觉效果
```

### 二.css分类

```java
1.行内样式
    语法: html标签上使用style属性控制样式。
    	<h1 style="样式名:样式值;样式名:样式值..."></h1>
        
2.内嵌样式
    语法: <head>
          <style type="text/css">
              选择器名称{
        			样式名:样式值;
        			样式名:样式值
                         ...
    		  }
          </style>
        </head>
              
    1> 标签选择器
       作用: 定义同一个页面中所有相同标签样式一致。
       语法: 选择器的名称是html标签的名字
         	h1{
           		font-size:30px;
           		background-color:blue
       		}

	2> class选择器
       作用: 同一个页面中多个不同标签样式一致。
       语法: .名称
        	.abc{
           		font-size:30px;
           		background-color:blue
       		}
			<h1 class="abc">你好</h1>
                
    3> id选择器
       作用: 同一个页面中多个不同标签样式一致。
       语法: #名称
       		#bbb{
           		font-size:30px;
           		background-color:blue
       		}
 			<h1 id="bbb">你好</h1>
       注意: id属性通常用于唯一标识页面中的元素。
            
	4>伪类选择器
      作用: 定义再超链接的鼠标悬停时的样式。
      语法:
		a:hover{
            color:blue
        }
```

### 三.常见的css样式

```java
1.文本字体相关
    font-size: 100px  字体大小
    color: red	      字体颜色
    font-family: 楷体  字体类型
    text-align: center 文本内容居中  left right
        
2.边框相关
    border:样式 粗细 颜色;
          solod 2px red;
    width: 300px;
    height: 200px;

3.背景相关
    background-color: red; 背景颜色
    background-image: url("logo.gif"); 背景图片
        
4.鼠标相关
    cursor:wait|move|pointer
```

### 四.布局

```java
<span></span> : 行级标签。便签自身不会影响网页原有风格。
<div></div>:	块级标签。会影响网页原有风格。
    
1.悬浮广告
    		background-color: blue;
            width: 200px;
            height: 200px;
            position: absolute;  绝对定位
            top: 100px; y坐标
            left: 50px; x坐标
            z-index: 3; z坐标 z值越大离我们越近
                
2.其他属性
    float: left   浮动方式，从左往右浮动
    margin: 10px   外边距
    padding: 10px  内边距
```

# 								服务器

### 一.互联网体系结构

```java
C/S: client  /  server （客户端和服务器）
	qq客户端...
	缺点: 必须安装特定的软件，升级麻烦。

B/S: browser / server  (浏览器和服务器)
    百度...
    好处: 不需要下载，不需要升级。
```

### 二.服务器

```java
tomcat: 是 apache 组织提供的开源免费的 java web 服务器。
```

### 三.安装

```java
安装: 解压即可，推荐放在磁盘根目录。
注意: 检查 JAVA_HOME 环境变量。
```

### 四.启动和停止服务器

```java
启动: 双击tomcat根目录中bin/startup.bat
访问: http://localhost:8080
	 http://127.0.0.1:8080
     http://10.13.9.229:8080
关闭: 关闭窗口
```

### 五.tomcat目录结构

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220822152642299.png" alt="image-20220822152642299" style="zoom:67%;" />

### 六.发布静态网页【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220822153800094.png" alt="image-20220822153800094" style="zoom:75%;" />

```java
访问: 重启tomcat打开浏览器输入url:
       http://ip:port/应用名/xxx.html
       举例: http://10.13.9.229:8080/myhtml/5.html
```

# Servlet

### 一.引言

```java
Servlet: server let
     概念: 是server上运行的一小段程序。
     作用: 1.接收请求  2.处理请求  3.响应结果
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220822163606357.png" alt="image-20220822163606357" style="zoom:50%;" />

### 二.第一个Servlet程序【重点】

#### 1.准备工作

```java
导入 servlet-api.jar
```

#### 2.写代码

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220822165711622.png" alt="image-20220822165711622" style="zoom:67%;" />

#### 3.部署(deploy)到服务器上

```java
部署|发布 : 把本地的.class文件连同包结构正确的放在tomcat中，
           放置的目录是webapps/web引用名/WEB-INF/classes
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220822170406004.png" alt="image-20220822170406004" style="zoom:67%;" />

#### 4.配置web.xml

```java
作用: 把不能直接运行的类，通过配置变成可以通过浏览器访问的类。
注意: web.xml每个web应用只能有一个。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220822171515631.png" alt="image-20220822171515631" style="zoom:67%;" />

#### 5.运行

```java
重启tomcat输入网址:  http://ip:port/应用名/url-pattern
                   http://localhost:8080/myservlet/fff
```

#### 6.中文乱码解决

```java
方式1:resp.setContentType("text/html;charset=utf-8");
方式2:
	resp.setContentType("text/html");
	resp.setCharacterEncoding("utf-8");

作业: 1.servlet第一个程序
     2.预习后面的课程
```

#### 7.常见的错误

```java
1.404 请求资源找不到
  原因:
		1.浏览器地址栏写错了
        2.servlet的别名没有对应的类
            
2.500 服务器错误
  原因: java代码错误
      
3.405
   原因: servlet中方法覆盖错了
```

### 三.请求servlet的三种方式【重点】

```java
1. 通过浏览器地址栏直接请求
    http://ip:port/web应用名/url-pattern
    http://ip:port/web应用名/url-pattern?键=值&键=值...

2. 通过超链接请求
   在一个html文件中书写a标签定义href属性
   <a href="/web应用名/url-pattern">...</a> 跳转servlet
   <a href="/web应用名/url-pattern?键=值&键=值...">...</a>
   <a href="/web应用名/子目录/xx.html">...</a> 跳转html

3. 通过表单请求
   在网页中定义一个form表单，指定表单上action属性
   <form action="/web应用名/url-pattern" method="get|post">...</form>
        
Servlet可以获取提交的所有数据:
	获取表单数据(get|post): 
	String value = req.getParameter("参数键");
```

### 四.idea集成tomcat【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220823110255787.png" alt="image-20220823110255787" style="zoom:67%;" />

### 五.解决idea控制台乱码问题

```java
1. 首先打开idea，点击顶部的help选项。选择 Edit Custom VM Options
2. 在文件中添加如下配置: -Dfile.encoding=utf-8
3. 重启idea即可
```

### 六.通过idea创建web应用【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220823111625808.png" alt="image-20220823111625808" style="zoom:67%;" />

### 七.模块创建后的结构

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220823111852991.png" alt="image-20220823111852991" style="zoom:67%;" />

### 八.部署idea中的web项目

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220823112339622.png" alt="image-20220823112339622" style="zoom:67%;" />

### 九.servlet执行的流程【理解】

```java
1. client 向 server 发起请求。比如:http://10.13.9.229:8080/servlet_day2_1/hh
2. 这个请求的前半段 http://10.13.9.229:8080 锁定了本机器的tomcat服务器。
3. tomcat开始解析后半段访问路径 /servlet_day2_1 确定访问的是哪个web.xml
4. 根据/url-pattern,找到servlet-name
5. 根据servlet-name 找到 servlet-class
6. server 在内存中获取该类对象
    	第一次请求对象不存在，使用反射创建该类对象
             Class.forName("包名.类名").newInstance();
		以后每次请求对象存在，直接使用该对象
7. 通过该对象调用service方法，把响应结果返回给浏览器
```

### 十.servlet生命周期【面试题】

```java
生命周期阶段			调用方法				什么时候调用						调用几次
 创建					构造方法				client第一次请求					  1			
 初始化			   init方法				 对象创建后调用					 1
 服务					service方法			  client有请求就会调用				  n次
 销毁				    destory方法			  server停止						 1次
    
注意:Servlet在tomcat整个启动过程中，只创建一个对象,默认是client发起第一次请求时创建。
    或者设置tomcat启动时就创建:
		<servlet>
            <servlet-name>...</servlet-name>
            <servlet-class>...</servlet-class>
            <load-on-startup>1</load-on-startup>
    	</servlet>
    load-on-startup控制servlet创建对象和初始化，值>=0,数字值越小表示越先创建对象。
```

### 十一.线程安全【面试题】

```java
tomcat只为servlet创建1个对象，并由该对象负责所有客户端的请求。当多个client同时访问servlet，这个对象就成了多线程临界资源的对象，必须保证临界资源对象的线程安全:
	方法一: servlet中线程不安全代码需要加synchronized，导致问题效率低。绝不采用
    方式二: 尽量避免在servlet中定义成员变量(如果定义该成员变量不可修改)
```

### 十二.Servlet跳转【重点】

```java
现有servlet代码可读性差。因为功能逻辑和显示逻辑写在一起了，应该拆分:
    显示逻辑  和 功能逻辑分开，将一个servlet拆分称两个servlet
```

#### 1.请求转发 forward

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220823161753845.png" alt="image-20220823161753845" style="zoom:67%;" />

```java
请求转发的语法:
	RequestDispatcher rd = req.getRequestDispatcher("/err");
    rd.forward(req, resp);

从Action跳转到View传递数据使用request作用域对象存储数据(命名属性):
	1.跳转前存数据
        req.setAttribute("key",value);
    2.跳转到view后取数据
        Object obj = req.getAttribute("key");

作业: 完成登录(数据必须是表中的)
     登录成功后查所有的图书
     提高: 完成删除
```

#### 2.重定向 redirect

```java
从一个servlet使用重定向语法跳转:
	resp.sendRedirect("/web应用的访问路径/url-pattern");
```

#### 3.转发和重定向应用场景

```java
根据是否传递数据:
	如果xxxAction给xxxView传递数据必须使用forward，除此以为使用redirect。
根据功能是否完成:
	如果一个功能已经结束，要跳转另一个功能使用 redirect 否则 forward。
   举例:
		登录 --> 查所有  重定向
        查所有 --> 删除  重定向
        查所有的action --> 查所有的view  转发
            
作业: 登录(Admin表)
     查所有(Book  Account)
     删除
     添加
     选做: 修改
```

#### 4.请求转发和重定向的区别

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220825143113586.png" alt="image-20220825143113586" style="zoom:67%;" />

```java
作业:
	登录 和 注册
    操作Account表
    id   name   balance  time
    1    小黑     1000     2022-12-12
    完成查所有    添加  删除  修改 (包含查1个)  尽量自己写，写不出来的同学先看视频写。
```

### 十三.会话跟踪技术

#### 1.cookie

```java
概念: 服务器(server)往客户端(client)写入的一小段文本，以键值对形式体现。
API的使用:
	1.往client写cookie
        Cookie c1 = new Cookie("key","value");
        Cookie c2 = new Cookie("key","value");
        c1.setMaxAge(n);
			n>0  设置n秒后cookie失效
            n<0  浏览器关闭cookie失效
            n=0  cookie删除
        response.addCookie(c1);
		response.addCookie(c2);
      注意:cookie默认的失效时间是浏览器关闭cookie删除
          
    2.从client读取cookie
          Cookie[] cookies = request.getCookies();
          没有cookie返回null
          for(Cookie cookie : cookies){
              if( cookie.getName().equals("name") ){
                  String value = cookie.getVaule();
              }
          }

总结:
	1.使用cookie不要存储重要数据
    2.浏览器可以禁用cookie可能导致程序不可用
```

#### 2.session【重点】

```java
概念: 同一个client和server建立连接后的多次 请求/响应 过程进行跟踪。
API使用:
	HttpSession session = request.getSession();
    session.setAttribute("key",值); 存储
    Object value = session.getAttribute("key"); 通过键得到值
      
作用范围:
	开始: client第一次请求会创建session
	结束: client最后一次访问超过30分钟会销毁
        
应用场景:
	1.获取用户的登录信息
        步骤1>: 在LoginAction的成功分支中往session存储登录信息
        步骤2>: 在项目的其他地方想要获取用户信息就从session中getAttribute()

    2.强制登录
        在项目中的大多数资源中判断用户是否登录
            
    3.安全退出
        将session中的登录信息删除
        HttpSession session = req.getSession();
        session.removeAttribute("token");

修改session的失效时间【了解】
    web.xml中配置session信息
    <session-config>
       <session-timeout>1</session-timeout>  单位:分钟
   </session-config>
           
session的原理:【了解】
	session的底层是基于cookie，client发起第一次请求，server接收请求并为该client创建一个session对象，并为这个session对象分配一个id号(32位16进制)，处理完请求后服务器会完成响应，把session的id以cookie的形式写入client(cookie的键=JSESSIONID,cookie的值=32位16进制的值),除第一次请求以外服务器会读取client的cookie(key=JSESSIONID)和请求的数据一起发送给server，server收到请求获取JSESSIONID的值，在server内存中查询该id对应的session对象，从而确定该客户端对应的session是哪个。
```

#### 3.url重写

```java
如果客户端cookie禁用可以使用 "url重写" 保证应用程序健壮性。
String path = resp.encodeURL("路径");
如果cookie被禁用，则自动在原路径上携带;jesssionid=xxxxx
```

### 十四.ServletContext

```java
每个web应用都拥有一个ServletContext对象，可以进行数据存储。
API使用:
	ServletContext servletContext = getServletContext();
    servletContext.setAttribute("键",值);
    servletContext.getAttribute("键");
    servletContext.removeAttribute("键");

作用范围:
	开始: server启动。每个web应用都创建一个ServletContext作用域对象
	结束: server停止。
        
应用场景: 为应用程序设置初始化参数
    步骤1>: 在web.xml中设置全局参数
        <context-param>
            <param-name>encode</param-name>
            <param-value>utf-8</param-value>
    	</context-param>
    步骤2>: 获取全局参数
        ServletContext servletContext = getServletContext();
        String encode = servletContext.getInitParameter("encode");
```

### 十五.JavaWeb中三大作用域对象【面试题】

| 作用域对象     | 生命周期 | 共享数据范围         |
| -------------- | -------- | -------------------- |
| request        | 短       | 同一个请求共享数据   |
| session        | 中       | 同一个client多个请求 |
| ServletContext | 长       | 多个client共享数据   |

```java
作业:
	登录+注册
    查所有 根据id删除  修改  添加  安全退出
    查所有加入强制登录
Person 表
   id	name	关系	time
    1    小黑    朋友  
    2    小红    恋人 ...
```

### 十六.监听器

```java
事件模型三要素:
	事件源(source)		事件(event)	监听器(listener)
    当事件源产生特定事件会执行监听器中的代码。
        
在servlet中事件源:
	request对象
    session对象
    servletContext对象

事件: 对象的创建，对象的销毁

监听器接口:
	1.作用域对象监听器，监听三大作用域对象的创建和销毁
        ServletRequestListener
        HttpSessionListener
        ServeltContextListener
    2.命名属性的监听器，监听三大作用域对象对于命名属性的 添加  修改  删除
        ServletRequestAttributeListener
        HttpSessionAttributeListener
        ServletContextAttributeListener
```

```自定义监听器代码```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220829142739547.png" alt="image-20220829142739547" style="zoom:67%;" />

### 十七.过滤器【重点】

```java
Filter过滤器，可以对request/response进行统一处理，并且根据处理结果决定是否把request和response继续向后传递。
```

#### 1.自定义过滤器

```java
1.类 实现 Filter
@Override
public void doFilter(ServletRequest servletRequest, ServletResponse servletResponse, FilterChain filterChain) throws IOException, ServletException {
        //所有请求放行之前的处理
        filterChain.doFilter(servletRequest,servletResponse);//放行
        //响应回client之前的处理
}

2.配置过滤器
    <!--    配置过滤器-->
    <filter>
        <filter-name>别名</filter-name>
        <filter-class>包名.类名</filter-class>
    </filter>

    <filter-mapping>
        <filter-name>别名</filter-name>
        <url-pattern>拦截的路径</url-pattern> // 支持通配符 /* 表示所有的请求都拦截
    </filter-mapping>
```

#### 2.应用场景

```java
1.强制登录
    创建过滤器配置路径拦截除了登录和注册，其他资源都拦截
2.设置字符集
    拦截应用中所有的路径 /*
```

### 十八.Servlet总结

```java
包:
cn.baizhi.action
cn.baizhi.conf
cn.baizhi.util
cn.baizhi.dao
cn.baizhi.entity
cn.baizhi.service
cn.baizhi.test
cn.baizhi.view
cn.baizhi.filter

程序中的跳转:
<a href="/web应用路径/url-pattern"> ... </a>
<form action="/web应用路径/url-pattern">
resp.sendRedirect("/web应用路径/url-pattern");

req.getRequestDispatcher("/url-pattern").forward(req,resp);

作业:
	在周五作业的基础上 加 强制登录 和 编码过滤器
```

# jsp

### 一.引言

```java
jsp(java server pages): java编写，运行在服务器上的一种动态网页技术
作用: 接收请求  处理请求  响应结果，和servlet是一样的作用
Servlet分类:
	xxxAction: 功能逻辑
    xxxView:   显示逻辑    通过jsp技术替换
jsp语法:
	1.文件后缀名 xxx.jsp
    2.存储的位置是web项目的根目录
        
jsp好处: 服务器不需要重启，修改后立即生效
```

### 二.jsp的基本元素

#### 1.脚本元素

```java
1.表达式脚本
    <%=表达式 %>
    java中输出语句能写什么这个表达式就可以是什么
    
2.声明脚本
    <%! %>
    java类中能定义什么(成员变量成员方法)声明脚本中都可以书写
    
3.普通脚本
    <% %>
    java中方法内部能些什么普通脚本都可以书写 如:for if ...
        
注意: 脚本之间不允许嵌套
```

#### 2.运行原理

```java
1. xxx.jsp -转换->  xxx.java
2. xxx.java -编译-> xxx.class
3. 运行这个class文件
```

#### 3.指令元素【重点】

```java
语法: <%@ 指令名 属性名=值 属性名=值 %>
    
1.页面指令: 可以设置网页信息比如页面编码
    指令名: page
    属性:
		contentType="text/html;charset=UTF-8" 设置响应的内容类型及编码
        pageEncoding="utf-8"                  设置编码，响应的内容类型默认是html
        import="java.util.Date"               导包
        language="java"                       当前jsp支持的语言
        errorPage="/404.jsp"                   当前jsp页面出现异常，会自动转跳(转发)指定的路径
        isErrorPage="true"                   当前jsp是异常处理页面可以使用隐藏对象exception，
                                             该属性默认值是false
        session="true"                   该属性默认值是true,true表示当前页面可以使用session对象
        isELIgnored="false"              当前页面不忽略EL表达式
            
2.标签库指令
     语法: <%@ taglib prefix="" uri="" %>
```

#### 4.动作元素

```java
包含动作。
作用: 当前jsp页面中包含另一个页面。
语法: <jsp:include page="url"></jsp:include>
```

### 三.jsp中的隐含对象【面试重点】

```java
隐含对象/内置对象: 不需要new，直接可以在表达式脚本<%=%>和普通脚本<%%>中使用。
	9大内置对象:
		request		--> HttpServletRequest    	请求对象
        		request.getContextPath(): 在jsp页面动态获取当前应用的访问路径
        response	--> HttpServletResponse		响应对象
        out			--> JspWriter				输出对象
        session 	--> HttpSession             会话对象
        application --> ServletContext			应用的上下文对象
        page        --> page = this				当前类对象
        config		--> ServletConfig			当前类的配置对象
        exception   --> Throwable				异常对象
            注意: 只有在 isErrorPage="true" 的jsp中可以使用这个对象
        pageContext --> PageContext				特殊对象

内置对象总结:
	作用域对象: pageContext   request   session    application
    响应对象:   response    out
    打酱油:    page    config
    异常对象:  exception
```

### 四.EL表达式【重点】

#### 1.jsp实现无脚本开发

```java
概念: 尽量在jsp中不要使用<%=%>  和 <%%>
    <%= %> 表达式脚本	输出 (使用EL替换)
    <% %>  普通脚本		 流程控制 for  if ..   (使用JSTL替换)
    <%! %> 声明脚本		 不建议使用 (成员变量多线程下不安全)
```

#### 2.EL表达式

```java
EL表达式作用计算表达式的值并输出。
语法: ${表达式}
1.普通运算
    + - * /
    == != > >=  <= <
    &&  || !
    ? : 
	${empty n} 判断n是否为null 或 "" 或 '' 或集合长度为0也代表空，以上4中情况都返回true。
        
2.获取客户端的请求参数
    ${param.参数的key}
    等同于
    <%=request.getParameter("name")%>

3.获取作用域中的命名属性
    指定作用域获取:${域.命名属性的key}    
    4个作用域中全域搜索: ${命名属性的key}
  EL中的作用域:
	pageScope  requestScope  sessionScope   applicationScope
  脚本中的作用域对象:
	pageContext	 request		session			application
        
4.获取作用域中的数据是对象类型
    语法: ${域.命名属性的键.name}  ${域.命名属性的键.password}
    相当于调用对象的:   getName() 和          getPassword()

5.动态获取web应用的访问路径
    ${pageContext.request.contextPath}
    相当于: pageContext.getRequest().getContextPath()

6.获取的命名属性是集合
     ${域.list[下标]} 通过下标获取list集合中的一个元素
     ${域.map["key"]} 通过map集合的键获取对应的值

作业: 要求修改替换成jsp页面。应用中所有的应用路径换成动态获取。
```

### 五.JSTL【重点】

```java
概念: 标签库。
标签库的分类: 核心标签库(for if)  时间格式化标签库...
项目中需要引入标签库
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220831095756731.png" alt="image-20220831095756731" style="zoom:67%;" />

#### 1.使用核心标签库

```java
1.在jsp页面中引入核心标签库
    <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
    
    1》if标签的使用
    	<c:if test="boolean">
            如果if成立则执行
        </c:if>
    2》forEach循环标签
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220831112351951.png" alt="image-20220831112351951" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220831141955879.png" alt="image-20220831141955879" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220831142413861.png" alt="image-20220831142413861" style="zoom:67%;" />

#### 2.使用格式化标签库

```java
1.引入格式化标签库
    <%@ taglib prefix="fmt" uri="http://java.sun.com/jsp/jstl/fmt" %>
2.将时间格式化
    <fmt:formatDate value="时间" pattern="yyyy年MM月dd日"></fmt:formatDate>
        
作业:
	登录  分页查 修改 公共页面  强制登录  编码  的过滤器  安全退出  删除  添加
         额外: 注册
```

# 			struts2

### 一.引言

#### 1.MVC编程思想【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902090816214.png" alt="image-20220902090816214" style="zoom:67%;" />

#### 2.servlet作为控制器存在的问题

```java
1.存在冗余代码。如: request.getParameter("键");
2.一个功能需要开发一个servlet，导致servlet的数量过多，项目维护性差
3.路径写死在类中项目的维护性差
```

#### 3.框架

```java
框架 framework, 是软件开发过程中的半成品，用来解决开发过程中的通用问题，提高开发效率。
    通用问题: servlet中代码冗余  路径写死的问题   servlet数量过多的问题
    半成品: 开发了一半，我们需要进行二次开发
```

#### 4.struts2框架

```java
由开源组织 apache 提供的，提供一个新的控制器替换原来的servlet控制器，从而解决项目中servlet存在的问题。
```

### 二.struts2的环境搭建【重点】

#### 1.获取资源包

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902094833408.png" alt="image-20220902094833408" style="zoom:67%;" />

#### 2.导入jar包

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902095338242.png" alt="image-20220902095338242" style="zoom:67%;" />

#### 3.创建struts.xml

```java
struts2的核心配置文件:
	文件名 必须是 struts.xml
    位置 必须是在src 根目录
```

#### 4.在web.xml中配置struts的核心filter

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902100225049.png" alt="image-20220902100225049" style="zoom:67%;" />

#### 5.第一个struts2的程序

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902101847750.png" alt="image-20220902101847750" style="zoom:67%;" />

#### 6.获取常用的对象

```java
//1.获取request对象
HttpServletRequest request = ServletActionContext.getRequest();
//2.获取response对象
HttpServletResponse response = ServletActionContext.getResponse();
//3.获取session对象
HttpSession session = request.getSession();
```

### 三.struts2的同包跳转【重点】

```java
回顾: 
	转发:	 地址栏不变   server内部跳转  共享同一个请求
	重定向: 地址栏改变	client跳转	  不共享同一个请求
        
1.Action跳转jsp
      forward(转发):默认
      	<result name="abc" type="dispatcher">/ok.jsp</result>
      redirect(重定向):
		<result name="abc" type="redirect">/ok.jsp</result>

2.Action跳转Action
     forward(转发):
		<result name="abc" type="chain">action标签中name属性的值</result>
     redirect(重定向):
		<result name="abc" type="redirectAction">标签中name属性的值</result>
```

### 四.package管理【重点】

```java
对action进行分模块管理。 以便于管理项目， 同一模块的action配置到一个package中，不同模块的action配置到不同的package中。
什么是模块: 同一张表的操作。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902153243039.png" alt="image-20220902153243039" style="zoom:67%;" />

### 五.跨包跳转【重点】

```java
跨包跳转指的是: action到action的跨包。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902154119857.png" alt="image-20220902154119857" style="zoom:67%;" />

### 六.全局跳转【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902155343224.png" alt="image-20220902155343224" style="zoom:67%;" />

### 七.idea配置struts2配置文件的模板

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220902160303391.png" alt="image-20220902160303391" style="zoom:67%;" />

```java
作业:
	ems任选一款颜色。完成登录  注册  查所有|分页查    删除 添加 修改
    过滤器: 强制登录   编码过滤
```

### 八.struts2的参数接收【重点】

```java
概念: struts2 对参数接收进行了封装，使用action的成员变量接收client参数。
好处:
	1.减少代码冗余
    2.解决了post方式utf-8编码
    3.数类型自动转换
```

#### 1.零散收参

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220905153210379.png" alt="image-20220905153210379" style="zoom:67%;" />

#### 2.使用对象收参

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220905160452754.png" alt="image-20220905160452754" style="zoom:67%;" />

#### 3.收集复选框数据-零散

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220905162841774.png" alt="image-20220905162841774" style="zoom:67%;" />

#### 4.收集复选框数据-对象

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220905163901997.png" alt="image-20220905163901997" style="zoom:67%;" />

### 九.Action的第2种开发方式【重点】

```java
作用: 整合同一模块(同一张表的操作)的多个action到1个action类中，成为多个方法。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220905173026456.png" alt="image-20220905173026456" style="zoom:67%;" />

### 十.使用成员变量替换request作用域【重点】

```java
struts2的成员变量2个作用:
	1.使用成员变量 自动 收参
    2.使用成员变量 替换 request作用域
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220905175513928.png" alt="image-20220905175513928" style="zoom:67%;" />

```java
作业:
	ems任选一款颜色。完成登录  注册  查所有|分页查    删除 添加 修改
    过滤器: 强制登录
    所有的收参  和  传参使用成员变量。一个模块定义一个action
```

### 十一.文件上传【重点】

```java
将用户计算机的本地文件上传到当前访问的web应用中。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906154445333.png" alt="image-20220906154445333" style="zoom:67%;" />

#### 1.开发步骤

```java
开发步骤1:创建文件上传的页面
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906155118678.png" alt="image-20220906155118678" style="zoom:67%;" />

```java
开发步骤2: 创建上传的目录
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906155827252.png" alt="image-20220906155827252" style="zoom:80%;" />

```java
开发步骤3:创建文件上传的action
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906161706522.png" alt="image-20220906161706522" style="zoom:67%;" />

```java
开发步骤4: 配置action
```

#### 2.文件上传优化

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906165821519.png" alt="image-20220906165821519" style="zoom:60%;" />

#### 3.设置文件上传大小

```java
struts2文件上传默认大小2M以内，以下配置写在struts.xml中，修改文件上传大小，单位字节。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906170458978.png" alt="image-20220906170458978" style="zoom:67%;" />

### 十二.文件下载

```java
用户下载服务器上的文件到本地计算机。
```

#### 1.下载思想

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906172458672.png" alt="image-20220906172458672" style="zoom:45%;" />

#### 2.开发步骤

```java
步骤1: 提供下载页面
```

![image-20220906172943863](C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906172943863.png)

```java
步骤2:创建文件下载的action
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906175757165.png" alt="image-20220906175757165" style="zoom:67%;" />

```java
步骤3:配置action
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906180315012.png" alt="image-20220906180315012" style="zoom:67%;" />

#### 3.文件下载优化

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906181007152.png" alt="image-20220906181007152" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220906181107381.png" alt="image-20220906181107381" style="zoom:67%;" />

```java
作业:
	1.下载 写2遍
    2. User表 id   name  headImg(保存头像的真实名称)
       写一个添加功能  添加姓名同时 上传头像  
        
    页面 
        姓名 输入框
        头像 file
        submit
```

### 十三.验证码【重点】

```java
作用: 降低数据库的并发压力。
开发步骤1: 创建生成验证码的action。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220907154323595.png" alt="image-20220907154323595" style="zoom:67%;" />

```java
开发步骤2:登录页面使用验证码
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220907154457203.png" alt="image-20220907154457203" style="zoom:67%;" />

```java
开发步骤3:登录校验，先校验验证码，后校验用户名密码
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220907154644536.png" alt="image-20220907154644536" style="zoom:67%;" />

```java
作业:
	1.登录有验证码
    2.注册要有头像
    3.登录成功后显示头像
```

# 						mybatis

### 一.引言

#### 1.现有jdbc代码存在的问题

```java
1. 存在大量的冗余代码
2. 给?赋值需要手动完成
3. 针对查询结果处理麻烦，需要手动映射成java对象
4. sql语句写在java代码中，导致维护麻烦
```

#### 2.mybatis概念

```java
mybatis框架是一个持久层框架，主要用于对数据库进行增删改查操作。
可以完成对象关系自动映射(orm),提高开发效率
```

#### 3.mybatis与jdbc对比

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908103215136.png" alt="image-20220908103215136" style="zoom:67%;" />

### 二.环境搭建【重点】

#### 1.导包

```java
mybatis-3.1.1.jar        mysql-connector.jar        log4j-1.2.16.jar(日志)
```

#### 2.mybatis的配置文件

```java
文件名: 随便,通常mybatis-config.xml
位置: 随便,通常放在src下
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908113159959.png" alt="image-20220908113159959" style="zoom:67%;" />

#### 3.测试

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908113750497.png" alt="image-20220908113750497" style="zoom:67%;" />

### 三.第一个程序(查1个)【重点】

```java
开发步骤:
	1.根据表定义实例类
    2.定义dao接口
    3.使用mapper文件【重点】
    4.注册mapper文件【重点】
    5.测试
```

#### 1.创建实体类

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908142054099.png" alt="image-20220908142054099" style="zoom:67%;" />

#### 2.定义dao接口

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908142117139.png" alt="image-20220908142117139" style="zoom:67%;" />

#### 3.创建mapper文件

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908143259674.png" alt="image-20220908143259674" style="zoom:67%;" />

#### 4.注册mapper

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908143532599.png" alt="image-20220908143532599" style="zoom:67%;" />

#### 5.测试

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908143757134.png" alt="image-20220908143757134" style="zoom:67%;" />

```java
注意: 查询时mybatis根据查询结果的列名给同名属性赋值。如果没找到同名属性，赋值失败。
解决方法:
	给列名起别名，别名同实例类中的属性名。
    举例:
		select 列名 as 别名 from 表名 ....
```

### 四.其他的crud操作【重点】

#### 1.查所有

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908155511566.png" alt="image-20220908155511566" style="zoom:67%;" />

#### 2.模糊查

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908155943322.png" alt="image-20220908155943322" style="zoom:67%;" />

#### 3.删除

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908160202242.png" alt="image-20220908160202242" style="zoom:67%;" />

#### 4.添加

![image-20220908161119300](C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908161119300.png)

#### 5.增强添加

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908161544759.png" alt="image-20220908161544759" style="zoom:67%;" />

#### 6.修改

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220908161941121.png" alt="image-20220908161941121" style="zoom:67%;" />

### 五.Junit单元测试【重点】

```java
概念: 可以在一个类中定义多个方法，每个方法都像main方法一样可以运行。
要求方法的声明:
	public void 方法名(){}
	在方法上加上@Test注解
导入的依赖:
	junit-4.13.2.jar
    hamcrest-core-1.3.jar

注解的解释:
@Before: 在运行单元测试方法之前会执行
@Test: 单元测试方法
@After: 单元测试方法执行完毕后执行
    
作业:
	account | book | person 任选一张表:
		1.查所有  2.根据id查1个  3.修改  4.根据id删除  5.根据名字模糊查  6.添加
        并使用单元测试: 每个都要测试通过
```

### 六.JDBCUtil工具类

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909095548594.png" alt="image-20220909095548594" style="zoom:67%;" />

### 七.特殊字符的处理【重点】

```java
1. 在XML文件中，使用特殊符号
    <		&lt;	小于
    >		&gt;	大于
    &	    &amp;   并且
    '		&apos;	单引号
    "		&quot;	双引号
2. 使用CDATA
   <![CDATA[
       select ... from ... where balance < #{balance}
   ]]>
```

### 八.多参数处理【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909104804104.png" alt="image-20220909104804104" style="zoom:67%;" />

### 九.业务层【重点】

```java
1. 调用工具类方法，获取SqlSession
2. 获取dao对象
3. 调用dao方法
4. 事务提交
5. 事务回滚
6. 释放资源
```

### 十.mybatis框架配置文件的补充

#### 1.类型别名【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909141051165.png" alt="image-20220909141051165" style="zoom:67%;" />

#### 2.引入小配置文件

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909141830829.png" alt="image-20220909141830829" style="zoom:67%;" />

### 十一.mybatis的关系映射【重点】

#### 1.DB中表和表的关系

```java
数据库中，两张表有关联关系，通过外键(foreign key)体现。
    1. 一对一   学生 和 电脑
    2. 一对多	 班级 和 学生
    3. 多对一	 学生 和 班级
    4. 多对多   学生 和 课程
```

#### 2.单向多对一

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909151255709.png" alt="image-20220909151255709" style="zoom:67%;" />

```java
定义dao接口
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909152513099.png" alt="image-20220909152513099" style="zoom:67%;" />

```java
mapper文件使用手动映射
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909154043075.png" alt="image-20220909154043075" style="zoom:67%;" />

```java
手动映射语法
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220909154412763.png" alt="image-20220909154412763" style="zoom:67%;" />

```java
作业:
	1.多对一案例  学生和班级
    2.登录  查所有  删除  修改   添加   使用struts2 和 mybatis  单表操作
```

#### 3.单向一对多

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220912102226892.png" alt="image-20220912102226892" style="zoom:67%;" />

```java
定义dao
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220912104050489.png" alt="image-20220912104050489" style="zoom:67%;" />

```java
mapper文件
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220912104157839.png" alt="image-20220912104157839" style="zoom:67%;" />

```java
作业:
	课堂案例
```

#### 4.一对一

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913144104503.png" alt="image-20220913144104503" style="zoom:67%;" />

```java
定义dao接口
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913145556556.png" alt="image-20220913145556556" style="zoom:67%;" />

```java
定义mapper文件
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913145656800.png" alt="image-20220913145656800" style="zoom:67%;" />

```java
添加功能: 页面
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913155408573.png" alt="image-20220913155408573" style="zoom:67%;" />

```java
业务类:
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913162836840.png" alt="image-20220913162836840" style="zoom:67%;" />

#### 5.多对多

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913173601051.png" alt="image-20220913173601051" style="zoom:67%;" />

```java
定义dao接口
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913173847920.png" alt="image-20220913173847920" style="zoom:67%;" />

```java
mapper文件
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220913174543612.png" alt="image-20220913174543612" style="zoom:67%;" />

```java
作业:
	课堂案例: 一对一查询 和 添加
             多对多的查询    尝试:多对多的添加
```

### 十二.动态sql【重点】

#### 1.SQL复用

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914113159492.png" alt="image-20220914113159492" style="zoom:67%;" />

#### 2.where标签

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914113054845.png" alt="image-20220914113054845" style="zoom:67%;" />

#### 3.foreach标签

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914142002183.png" alt="image-20220914142002183" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914145129176.png" alt="image-20220914145129176" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914145142533.png" alt="image-20220914145142533" style="zoom:67%;" />

### 十三.缓存【掌握思想】

```java
缓存: 计算机内存中的一块空间。
    内存:
		优点:读写效率高
    	缺点:存储量小，不能永久存储
    
    硬盘:
		优点:存储量大，永久存储
        缺点:读写效率低
        数据库中的数据存储在硬盘上的

缓存的好处:可以提高应用程序效率，减少与DB的交互次数。
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914154512359.png" alt="image-20220914154512359" style="zoom:67%;" />

#### 1.mybatis的缓存分类

```java
1级缓存:	sqlSession级别  -- mybatis默认使用
    基于同一个sqlSesison的操作，查询的数据会自动纳入缓存

2级缓存:	SqlSessionFactory级别  --mybatis默认没有使用
    基于同一个SqlSessionFactory的操作可以纳入缓存
```

#### 2.mybatis二级缓存的使用

```java
步骤1: 配置启动mybatis-config.xml，启动二级缓存
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914160530714.png" alt="image-20220914160530714" style="zoom:67%;" />

```java
步骤2: 在mapper映射文件中使用缓存
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914160702720.png" alt="image-20220914160702720" style="zoom:67%;" />

```java
步骤3:实体类必须实现Serializable接口
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914161057384.png" alt="image-20220914161057384" style="zoom:67%;" />

```java
注意:
	1. sqlSession.close() 往缓存中存数据。
    2. sqlSession.commit() 清空缓存数据。
```

# JavaScript

### 一.引言

```java
JavaScript: 网景公司，基于浏览器解释执行，属于脚本语言，书写在网页中，简称js。
    作用:
		1.表单校验
        2.页面特效
        3.操作页面元素
注意:
	1.js是弱类型语言 (变量的声明都使用var)
    2.严格区分大小写
    3.存在浏览器差异
```

### 二.语法【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220914172334677.png" alt="image-20220914172334677" style="zoom:67%;" />

### 三.js的输出【重点】

```java
1.向浏览器页面打印输出
    document.write("<h1>helloworld</h1>");

2.以警告框的形式打印输出
    window.alert("未满18岁");
	注意: 如果函数或属性属于window对象的，则window可以省略

3.向浏览器的控制台输出打印，相当于java里面的System.out.println()
    console.log("哈哈");
```

### 四.数据类型【重点】

```java
基本数据类型
    数字类型	-- 不分整数或小数
    字符串类型	-- 不分单引号或双引号
    布尔类型	-- true 或 false

特殊类型
    null	undefined(未赋值)

复合数据类型
    数组  日期  对象  函数
```

### 五.变量类型【重点】

```java
js是一种弱类型语言
    var a = 3;  var b = true;
	变量可以重复赋值,以最后一次赋值为准
    var c = true;  c="abc"  c = 4;

java是一种强类型语言(变量的类型要与数据的类型一致)
    int a = 10;  String str = "abc";
```

### 六.js运算符【重点】

```java
数学运算: + - * /
    注意:	1.除法有小数部分
		  2.有结果则输出，计算不出结果Infinity

判断相等性:
	==: 比较的是值 举例: var a = 3; var b = "3";  a==b 结果是true
    ===: 比较值+数据类型 举例: var a = 3; var b = "3";  a==b 结果是false

typeof 获取变量里存储的数据类型
    var a = 3;  typeof a
```

### 七.JavaScript流程控制【重点】

```java
if(){}
if(){}else{}
for(){}
while(){}
do{}while()
作业:
	js中的重点必须掌握
    批量删除 和 批量添加
```

### 八.自定义函数【重点】

```java
自定义函数
    1.使用关键字 function 定义函数
         function 函数名(参数表){函数体}
         function add(a,b){  a+b  }
         function add(a,b){  return a+b  }
    2.匿名函数
        var 变量名 = function(参数表){函数体}
		注意: 在js里面函数被认定为一种数据类型，可以通过变量接收该函数
		调用: 变量名(实参);

案例:
	var f = function(){ return "abc"; }
	var f1 = f; --> 将f这个函数赋值给f1，那么f1也是个函数
	var f2 = f(); --> 将f函数执行后的结果赋值给f2变量， f2 = "abc"

js函数的特点:
	1.js里没有"方法重载"，调用函数时可以传入多余或者少于形参数量的实参。
    2.js将所有的实参默认保存在一个叫做 arguments 的数组里，只能函数内部使用。
```

### 九.内置函数【重点】

```java
//parseInt("") : 把字符串转整数
        document.write( parseInt("123") ); //123
        document.write( parseInt("12.3") ); //12
        document.write( parseInt("12a") ); //12
        document.write( parseInt("a12") ); //NaN

//parseFloat(""): 把字符串转小数类型
        document.write( parseFloat("123") ); // 123
		document.write( parseFloat("12.3") ); // 12.3
        document.write( parseFloat("12a") ); // 12
        document.write( parseFloat("a12") ); // NaN
        document.write( parseFloat("12.3.4") ); // 12.3

//isNaN() : 判断是否是数字    是数字:false 不是数字:true
        document.write( isNaN("5") ); //false
        document.write( isNaN(5) ); //false
        document.write( isNaN("a5") ); //true
```

### 十.对象类型【重点】

```java
1. js中没有类的概念
2. 定义一个对象
    语法: var obj = {属性名:属性值,属性名:属性值...};
		 obj.新属性名 = 值;
3.访问对象的属性
    对象名.属性名  或者  对象名["属性名"]
4.遍历对象的所有属性: for(变量名 in 对象名){对象名[变量名]}
5.模拟java对象可以有方法
    //请定义一个对象有 name  age 两个属性,有getName方法,show方法自我介绍
      var obj = {
        name:"tom",
        age:20,
        getName:function (){
            return this.name;
        },
        show:function (){
          return "我叫"+this.name+", 今年"+this.age+"岁"
        }
      };
      console.log(obj.name);
      console.log(obj.age);
      console.log( obj.getName() );
      console.log( obj.show() );
```

### 十一.js中常见的内置对象

```java
1.字符串对象
    var str = "hello";
	var str = new String("hello");
	注意: 获取字符串长度是 length 属性，不是length函数。

2.Math: 相当于java中Math工具类
    Math.random(): 获取随机数

3.日期类型 Date
    var d = new Date();  当前系统时间
   	var d2 = new Date("2022/1/1 15:22");
             new Date("2022-1-1 15:22");  指定时间创建对象
```

### 十二.数组【重点】

```java
特点: js里的数组长度可变，元素可以是任意类型。
语法: var 数组名 = [元素1,元素2...];
访问: 通过下标访问 --> 数组名[下标值]
遍历: 与java一样
     for(var i = 0; i<数组名.length; i++){
        console.log( 数组名[i] );
     }
函数:
	数组名.sort(); 自然顺序排序
    数组名.push(元素); 在数组的末尾插入一个元素
    数组名.pop(); 数组末尾移除一个元素，数组长度-1
    delete 数组名[下标]; 删除指定位置的元素，数组长度不变
```

### 十三.事件【重点】

```java
事件模型三要素:
	事件源: html标签
	事件:   在事件源上发生的动作(如:单击  双击)
	监听器: 动作发生后执行的代码
概念: 当页面上的事件源产生了事件，触发监听器执行。

案例: 为html标签添加事件
    <标签 属性="" 事件名="监听器"></标签>
    如:<input type="button" value="普通按钮" onclick="alert('点我干啥')">

常见的事件名称:
	1.鼠标相关
        onclick: 单击事件 *****
        ondblclick: 双击事件
        onmouseout: 鼠标移出事件 **
        onmouseover: 鼠标移入事件 **
        onmousemove: 鼠标移动事件
    2.键盘相关
        onkeydown: 键盘按下
		onkeyup:   键盘弹起
    3.body相关
         onload: 页面加载完毕触发 *****
    4.form表单控件相关事件
         onblur: 当元素失去输入焦点触发 *
         onfocus: 当元素获取输入焦点触发 *
		 onchange: 当元素失去焦点并且值发生了改变 *
		 onsubmit: 表单提交时执行 *****

注意事项: *****
	1.通过事件监听取消标签的默认行为
      表单标签 --> <form action="" onsubmit="return false">
      超链接标签 --> <a href="" onclick="return false">点我跳转</a>
    2.事件冒泡: 发生在内部元素的事件默认会向外扩散
      取消事件冒泡: event.cancelBubble=true;

作业:
	1.表单验证 2.遍历对象 遍历数组 遍历字符串 3.如何定义对象 4.如何定义函数
    2.查所有 批量删除带页面 : 扩展
```

### 十四.DOM编程【重点】

```java
DOM: document object model 文档对象模型。

概念: 浏览器软件将html文件加载到内存中，会形成一颗"文档树"，html里的所有标签都在这颗文档树中成为树上的节点。

dom中的内置对象:document代表整个文档树
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220916100424218.png" alt="image-20220916100424218" style="zoom:67%;" />

#### 1.通过document对象获取文档树中的标签

```java
API:
	var tag = document.getElementById("标签上的id属性值"); ***
 	var tags = document.getElementsByClassName("标签上class属性的值"); -- 返回数组
    var tags = document.getElementsByTagName("标签名"); --返回数组

修改属性:
	tag.属性名 = 新值

获取属性:
	tag.属性名

案例: 灯泡移入"亮灯"  移出"关灯"

修改样式:
	单独修改一个css样式: tag.stytle.backgroundColor="blue"
    注意: 在css样式属性名基础上去掉-并且后面的首字母大写。
    如:
		css: background-color
        js:  backgroundColor
    修改样式指定的是class属性的值:
		tag.className="值";

修改标签体内容:
	tag.innerText="值"	设置标签体内容（内容不支持html标签）
    tag.innerHTML="值"	设置标签体内容（内容支持html标签）

添加新标签:
	var divTag = document.createElement("标签名");
	举例: var divTag = document.createElement("div");

添加新标签:
	parentTag.appendChild(newTag);

在指定位置添加标签:
	parentTag.insertBefore(newTag,oldTag);

删除标签:
	parentTag.removeChild(childTag);

标签的关系属性:
	tag.parentNode --> 获取tag的父标签
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220916160058475.png" alt="image-20220916160058475" style="zoom:67%;" />

### 十五.定义js文件

```java
可以将js代码单独定义在一个以.js结尾的文件中，在网页需要使用的地方进行引入
<script type="text/javascript" src="引入的js文件路径"></script>
<script type="text/javascript">
       //定义js的代码
</script>
```

### 十六.BOM编程【重点】

```java
BOM: browser object model 浏览器对象模型
1.window的常用功能(调用函数，可以省略window)
    对话框
    	警告框: window.alter();
		确认框: var a = window.confirm();  //点击确认返回true，点击取消返回false
		提示输入框: var text = window.prompt("");
2.location(是window对象的一个属性，location自身有一个href属性)
    location.href="url";
```

### 十七.确认框的应用场景【重点】

```java
确认删除功能:
	<a href="删除路径" onclick="return aa()">删除</a>
    function aa(){
        var result = confirm("确认删除吗?");
        return result;
    }
```

### 十八.看不清换一张【重点】

```java
<img onclick="imgCode()" id="codeImg"src="${pageContext.request.contextPath}/admin/code">
//点击img标签会触发该方法执行
function imgCode(){
    //1.得到 img 标签
    var codeImg = document.getElementById("codeImg");
    //2.重新设置src，保证每次访问时参数都不同
    codeImg.src="${pageContext.request.contextPath}/admin/code?a="+Math.random();
}
```

# jquery

### 一.引言

```java
jQuery是一个JavaScript框架。
好处:
	屏蔽浏览器差异
    语法简单
    支持链式调用
```

### 二.搭建环境【重点】

```java
1.引入jquery框架的js文件
2.在jsp文件中书写标签引入jquery
    <script type="text/javascript" src="jquery的文件路径"></script>
3.写代码
    $("#id")   根据标签id获取jQuery对象
    jquery对象.text("内容")   设置标签的文本内容
   	jquery对象.css("样式属性名","样式属性值")  设置标签的样式
```

### 三.jquery对象和js获取的标签对象区别【重点】

```java
js方式获取的标签对象
    var div = document.getElementById("id值");

jquery方式获取的对象
    var div1 = $("#div1"); 根据id获取jquery对象

注意: 只有jquery对象才能调用jquery中的方法。
```

### 四.获取jQuery对象的三种方式

```java
1.通过选择器获取 *****

2.通过dom对象获取 ***
    $(dom对象)

3.通过HTML标签获取
    $("<div id='div1'>你好</div>");
```

### 五.jquery的选择器【重点】

```java
1.基本选择器
    $("#id值"): id选择器，根据id值获取jquery对象 ***
    $(".class值"): class选择器，根据class的值获取jquery对象 ***
    $("标签名"): 标签选择器，根据标签名获取jquery对象 ***
    $("标签选择器,id选择器,class选择器,任何一种选择器"): 多路选择器 ***
    $("*"): 匹配所有
2.层级选择器
    $("selA selB"): 后代选择器，获取selA中所有的selB的jquery对象 ***
3.过滤选择器
    基本过滤选择器
    	$("selA:first"): 获取selA中的第一个jquery对象
    	$("selA:last"):  获取selA中的最后一个jquery对象
    	$("selA:even"): 获取selA中下标(从0开始)是偶数的jquery对象
    	$("selA:odd"): 获取selA中下标(从0开始)是奇数的jquery对象
    	$("selA:eq(index)") : 获取selA中下标=指定值的jquery对象
    	$("selA:gt(index)"): 获取selA中下标>指定值的jquery对象
    	$("selA:lt(index)"): 获取selA中下标<指定值的jquery对象
    	$("selA:not(selB)"): 获取selA中排除selB的jquery对象
    内容过滤选择器
    	$("selA:contains(text)") : 获取selA中文本内容包含text的jquery对象
    	$("selA:empty"): 获取selA中文本内容为空的jquery对象
    可见性过滤选择器
    	$("selA:hidden"): 获取selA中被隐藏的jq对象
    	$("selA:visible"): 获取selA中显示的jq对象
    属性过滤选择器
    	$("selA[属性名]"): 获取selA中定义了指定属性名称的jq对象
    	$("selA[属性名=值]"): 获取selA中定义了指定属性=指定值的jq对象
    	$("selA[属性名!=值]"): 获取selA中定义了指定属性!=指定值的jq对象
```

### 六.使用jquery对象操作元素【重点】

#### 1.操作对象的属性

```java
jquery对象.prop("属性名") : 获取对象的属性值
jquery对象.prop("属性名","新值") : 设置属性的值
jquery对象.removeProp("属性名") : 删除属性的值
```

#### 2.操作对象的样式

```java
jquery对象.css("样式属性名");  : 获取该样式属性的值
jquery对象.css("样式属性名","新值"): 设置样式属性的值

//显示  隐藏
jquery对象.hide(1000); //隐藏，单位毫秒
jquery对象.show(2000); //显示, 单位毫秒

//添加或删除class属性的值
jquery对象.removeClass("class属性的值") : 删除类选择器
jquery对象.addClass("class属性的值") : 添加类选择器

作业:
	21.jquery5个选择器会用  操作属性 操作样式
    2.看不清换一张加到项目中  删除必须有确认删除框
    3.完善项目
```

#### 3.操作标签体内容

```java
jquery对象.text(): 获取标签体内容
jquery对象.text("内容") : 设置标签体内容
	相当于: innerText=""

jquery对象.html(): 获取标签体内容
jquery对象.html("内容"): 设置标签体内容
	相当于: innerHTML=""

jquery对象.val() : 获取input标签上value属性的值
jquery对象.val("值"): 设置input标签上value属性的值
```

#### 4.jquery中的遍历

```java
获取数组的长度:
	属性: 数组.length
	方法: 数组.size()

通过jquery的形式遍历数组:
	for(var i = 0;i<数组名.length;i++){
        console.log( 数组名.eq(i) );
    }

通过jquery中的each()方法 --了解
	数组名.each(function (index){ //如果函数定义了一个参数，该参数表示元素的下标
        console.log( index );
        console.log( $(this) ); //this代表的数组中每个元素,$(this)表示转为jquery对象
    });
	注意:参数名叫什么无所谓，会自动赋值当前元素的下标。
```

### 七.js中的事件 - 回顾

```java
使用HTML标签注册事件
    <标签名 ... onclick="aa()">...</标签名>
使用js注册事件
    dom对象.事件名=function(){
    	//功能代码
	}
页面加载完毕执行js代码
    window.onload = function(){
    	//功能代码
	}
```

### 八.jquery的事件处理【重点】

```java
页面加载完毕:
	$(document).ready(function(){
        //功能代码
    });

jquery注册事件:
	jquery对象.事件名();

页面加载完毕的简单写法:
	$(function(){
        //功能代码
    });
```

### 九.修改页面的内容【重点】

```java
添加对象 -- 父子间操作
    父对象.append(子对象); 把子对象添加到父对象的末尾
    父对象.prepend(子对象): 把子对象添加到父对象的开头

添加对象 -- 兄弟间操作
    旧对象.befor(新对象); 在当前对象前面添加
    旧对象.after(新对象); 在当前对象后面添加

删除对象
    jquery对象.remove(); 彻底删除
    jquery对象.empty(); 删除标签体内容

关系方法
    jquery对象.parent(); 父对象
    jquery对象.children(); 得到所有的子对象
    jquery对象.next(); 下一个兄弟对象
    jquery对象.prev(); 前一个
```

# maven

### 一.引言

#### 1.什么是maven

```java
maven 是 apache 组织提供的开源项目管理工具，用于管理java项目
    maven功能: 清理,编译,测试,打包,部署
```

#### 2.maven的好处

```java
1. 可以摆脱IDE(开发工具)规范: 方便一键迁移项目(idea <--> myEclise)
2. 依赖(项目中需要的jar包)maven为我们管理，需要jar包maven会自动下载，节省本地磁盘的占用
```

### 二.maven的环境搭建【重点】

#### 1.下载maven的资料包

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921142722037.png" alt="image-20220921142722037" style="zoom:67%;" />

#### 2.解压安装

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921142819193.png" alt="image-20220921142819193" style="zoom:67%;" />

```java
目录说明:
	bin : 存在maven的启动脚本
    boot : 存放maven的引导文件
    conf : 存储maven的核心配置文件 ***
    lib  : 存储maven依赖的jar包文件
```

#### 3.配置环境变量

```java
注意: maven如果使用3.3+  必须对应 jdk7.0+
配置两个环境变量:
	MAVEN_HOME:指定maven的根目录
    path:	   指定maven下的bin目录
```

#### 4.检查环境是否正确

```java
使用cmd输入: mvn -v 或  mvc -version
出现以下内容说明环境变量配置成功
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921143505706.png" alt="image-20220921143505706" style="zoom:67%;" />

#### 5.配置maven本地仓库

```java
找到maven根目录下的conf目录打开里面的settings.xml
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921143733069.png" alt="image-20220921143733069" style="zoom:67%;" />

#### 6.配置国内仓库镜像

```java
maven默认仓库在国外下载非常慢,可以考虑换成阿里的仓库，修改settings.xml
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921144114257.png" alt="image-20220921144114257" style="zoom:67%;" />

#### 7.下载maven自身的必要插件

```java
打开cmd: 输入 mvc help:system 从仓库下载插件
    以下提示代表成功
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921144649506.png" alt="image-20220921144649506" style="zoom:87%;" />

### 三.手动开发一个maven项目

#### 1.maven的目录约定

```java
1. src/main/java			存放.java源码文件
2. src/main/resources		存放项目的配置文件如: struts.xml  mybatis-config.xml
3. src/test/java			存放项目的测试源码
4. src/test/resources		存放测试使用的配置文件
5. 项目根目录 pom.xml		 maven项目的配置文件(名字位置固定)
```

#### 2.maven坐标

```java
作用: 唯一定位一个项目的位置
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921151039347.png" alt="image-20220921151039347" style="zoom:80%;" />

#### 3.maven声明周期命令

```java
对项目源码进行编译(不包含test包): mvn compile
对项目编译后的内容进行清理: mvc clean
对项目进行打包:  mvc package
```

### 四.maven与idea工具集成【重点】

```java
File | Settings | Build, Execution, Deployment | Build Tools | Maven
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921152614531.png" alt="image-20220921152614531" style="zoom:67%;" />

### 五.使用idea创建maven项目【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921153103650.png" alt="image-20220921153103650" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921153031157.png" alt="image-20220921153031157" style="zoom:67%;" />

### 六.使用idea创建maven - web骨架【重点】

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921164336187.png" alt="image-20220921164336187" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921164528215.png" alt="image-20220921164528215" style="zoom:67%;" />

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220921164557217.png" alt="image-20220921164557217" style="zoom:67%;" />

```java
https://mvnrepository.com/
```

### 七.maven中scope【重点】

```java
在maven项目引入依赖时可以指定scope。用于指定引入依赖的使用范围。默认值:compile
	compile: 适用于所有阶段，会打包进项目。
    provided: 不会进行打包，不会进行部署。
    test: 只能在测试包中使用(src/test),不会跟随项目打包

作业:
	使用maven形式完成单表的增删改查
```

# 中期项目

### 1.项目类型

```java
学生管理
```

### 2.项目周期

```java
7天
    1.介绍项目 完成库表设计
    2.2~6天写代码
    3.第7天验收
```

### 3.项目要求

```java
独立完成
```

### 4.企业开发流程

```java
1. 确认需求 (项目经理:审核功能是否可以实现, 产品经理:负责设计原型图)
2. 需求分析 (项目经理)
3. 库表设计 (项目经理 + 开发人员)
4. 程序员编码
5. 测试	 (测试人员)
6. 项目上线 (开发环境 - 生产环境)
7. 项目维护 (运维人员)
8. 二次开发
```

### 5.库表设计

```java
1.功能有哪些
    管理员模块
    	登录(验证码)、注册
    城市模块
    	添加 查所有 删除
    标签模块
    	添加 查所有 删除
    班级模块
    	添加(文件上传，查询所有的班级类型标签) 查所有(显示班级所属标签) 删除
   	小组模块
    	添加(查询所有的班级信息) 查所有 删除
    学生模块
    	分页查(每个学生基本信息+所在班级信息+所在小组信息+就业城市信息+标签信息)
    	删除
    	添加(查询班级和小组信息  学生标签信息  就业城市信息)
    	修改(查询班级和小组信息  学生标签信息  就业城市信息)
    
2.确定有几张表
    7张

3.表中都有哪些字段
4.开发中很多都没有外键关联
    表中无外键，心中有外键
```

<img src="C:\Users\1309\Desktop\二阶段javaWeb\二阶段笔记.assets\image-20220922113858272.png" alt="image-20220922113858272" style="zoom:67%;" />

### 6.任务

```java
第一天: 项目的环境搭建(使用maven，搭建strtus2和mybatis环境)完成登录功能，注册功能
第二天: 城市管理 和 标签管理
第三天: 班级管理
第四天: 小组管理 学生管理的分页查询呈现第一页数据
第五天: 学生管理 上一页 下一页 模糊查询 添加  修改  删除
第六天: 学生管理继续完成 + 小组管理中的组标签+组人数 + 强制登录 + 安全退出
```

